{
  "testCases": [
    {
      "name": "Glucose",
      "input": "My glucose was 120 mg/dL this morning",
      "expected": {
        "type": "glucose",
        "fields": { "value": 120, "unit": "mg/dL" },
        "needsClarification": false
      }
    },
    {
      "name": "Meds (structured dosage)",
      "input": "I took 500mg of Tylenol",
      "expected": {
        "type": "medication",
        "fields": { "medication": "Tylenol", "dosage": 500, "unit": "mg" },
        "needsClarification": false
      }
    },
    {
      "name": "Meal (determiner stripped)",
      "input": "I ate a salad for lunch",
      "expectedEvents": [{ "type": "meal" }]
    },
    {
      "name": "Symptom-Clarify (vague token)",
      "input": "I feel weird",
      "expectedEvents": [{ "type": "symptom" }],
      "assertNeedsClarification": true
    },
    {
      "name": "Symptom-Headache (severity optional)",
      "input": "I have a headache",
      "expectedEvents": [{ "type": "symptom" }],
      "assertNeedsClarification": false
    },
    {
      "name": "Multi-Event: Meal + Symptom",
      "input": "I ate a peanut butter sandwich and now my throat feels itchy",
      "expectedEvents": [
        { "type": "meal" },
        { "type": "symptom" }
      ]
    },
    {
      "name": "Decomposition: Two Supplements (with)",
      "input": "I took magnesium with ashwagandha",
      "expectedEvents": [
        { "type": "supplement" },
        { "type": "supplement" }
      ]
    },
    {
      "name": "Decomposition: Two Medications (and)",
      "input": "I took ibuprofen and Tylenol",
      "expectedEvents": [
        { "type": "medication" },
        { "type": "medication" }
      ]
    },
    {
      "name": "Decomposition: Three Supplements (comma list)",
      "input": "I took magnesium, ashwagandha, and vitamin D",
      "expectedEvents": [
        { "type": "supplement" },
        { "type": "supplement" },
        { "type": "supplement" }
      ]
    }
  ]
}
